(window.webpackJsonp=window.webpackJsonp||[]).push([[387],{1246:function(e,s,n){"use strict";n.r(s);var a=n(0),t=Object(a.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h2",{attrs:{id:"题目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#题目"}},[e._v("#")]),e._v(" 题目")]),e._v(" "),s("p",[e._v("项目表 Project：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("+-------------+---------+\n| Column Name | Type    |\n+-------------+---------+\n| project_id  | int     |\n| employee_id | int     |\n+-------------+---------+\n主键为 (project_id, employee_id)。\nemployee_id 是员工表 Employee 表的外键。\n这张表的每一行表示 employee_id 的员工正在 project_id 的项目上工作。\n")])])]),s("p",[e._v("员工表 Employee：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("+------------------+---------+\n| Column Name      | Type    |\n+------------------+---------+\n| employee_id      | int     |\n| name             | varchar |\n| experience_years | int     |\n+------------------+---------+\n主键是 employee_id。数据保证 experience_years 非空。\n这张表的每一行包含一个员工的信息。\n")])])]),s("p",[e._v("请写一个 SQL 语句，查询每一个项目中员工的 平均 工作年限，精确到小数点后两位。")]),e._v(" "),s("p",[e._v("以 任意 顺序返回结果表。")]),e._v(" "),s("p",[e._v("查询结果的格式如下。")]),e._v(" "),s("p",[e._v("示例 1:")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[e._v("输入：\nProject 表：\n+-------------+-------------+\n| project_id  | employee_id |\n+-------------+-------------+\n| 1           | 1           |\n| 1           | 2           |\n| 1           | 3           |\n| 2           | 1           |\n| 2           | 4           |\n+-------------+-------------+\n\nEmployee 表：\n+-------------+--------+------------------+\n| employee_id | name   | experience_years |\n+-------------+--------+------------------+\n| 1           | Khaled | 3                |\n| 2           | Ali    | 2                |\n| 3           | John   | 1                |\n| 4           | Doe    | 2                |\n+-------------+--------+------------------+\n\n输出：\n+-------------+---------------+\n| project_id  | average_years |\n+-------------+---------------+\n| 1           | 2.00          |\n| 2           | 2.50          |\n+-------------+---------------+\n解释：第一个项目中，员工的平均工作年限是 (3 + 2 + 1) / 3 = 2.00；第二个项目中，员工的平均工作年限是 (3 + 2) / 2 = 2.50\n")])])]),s("h2",{attrs:{id:"思路"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#思路"}},[e._v("#")]),e._v(" 思路")]),e._v(" "),s("p",[e._v("ROUND(AVG(e.experience_years*1.0),2)")]),e._v(" "),s("h2",{attrs:{id:"解法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解法"}},[e._v("#")]),e._v(" 解法")]),e._v(" "),s("div",{staticClass:"language-sql line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("select")]),e._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("project_id "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("as")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'project_id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ROUND")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("AVG")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("experience_years"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1.0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("as")]),e._v(" average_years \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" project p\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("left")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("join")]),e._v(" employee e\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("on")]),e._v(" p"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("employee_id"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("employee_id\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("group")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("by")]),e._v(" project_id\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br")])]),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[e._v("#")]),e._v(" 总结")]),e._v(" "),s("ul",[s("li",[e._v("分析出几种情况，然后分别对各个情况实现")])])])}),[],!1,null,null,null);s.default=t.exports}}]);