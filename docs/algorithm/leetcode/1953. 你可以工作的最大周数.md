---
categories: 
  - algorithm
  - leetcode
tags: 
  - Java
author: 
  name: JavaInterview.cn
  link: https://JavaInterview.cn
titleTag: Java
feed: 
  enable: true
description: null
title: 1953. 你可以工作的最大周数
---

## 题目

给你 n 个项目，编号从 0 到 n - 1 。同时给你一个整数数组 milestones ，其中每个 milestones[i] 表示第 i 个项目中的阶段任务数量。

你可以按下面两个规则参与项目中的工作：

* 每周，你将会完成 某一个 项目中的 恰好一个 阶段任务。你每周都 必须 工作。
* 在 连续的 两周中，你 不能 参与并完成同一个项目中的两个阶段任务。
一旦所有项目中的全部阶段任务都完成，或者执行仅剩的一个阶段任务将会导致你违反上面的规则，你将 停止工作。注意，由于这些条件的限制，你可能无法完成所有阶段任务。

返回在不违反上面规则的情况下你 最多 能工作多少周。



示例 1：

    输入：milestones = [1,2,3]
    输出：6
    解释：一种可能的情形是：
    ​​​​- 第 1 周，你参与并完成项目 0 中的一个阶段任务。
    - 第 2 周，你参与并完成项目 2 中的一个阶段任务。
    - 第 3 周，你参与并完成项目 1 中的一个阶段任务。
    - 第 4 周，你参与并完成项目 2 中的一个阶段任务。
    - 第 5 周，你参与并完成项目 1 中的一个阶段任务。
    - 第 6 周，你参与并完成项目 2 中的一个阶段任务。
      总周数是 6 。

示例 2：

    输入：milestones = [5,2,1]
    输出：7
    解释：一种可能的情形是：
    - 第 1 周，你参与并完成项目 0 中的一个阶段任务。
    - 第 2 周，你参与并完成项目 1 中的一个阶段任务。
    - 第 3 周，你参与并完成项目 0 中的一个阶段任务。
    - 第 4 周，你参与并完成项目 1 中的一个阶段任务。
    - 第 5 周，你参与并完成项目 0 中的一个阶段任务。
    - 第 6 周，你参与并完成项目 2 中的一个阶段任务。
    - 第 7 周，你参与并完成项目 0 中的一个阶段任务。
      总周数是 7 。
      注意，你不能在第 8 周参与完成项目 0 中的最后一个阶段任务，因为这会违反规则。
      因此，项目 0 中会有一个阶段任务维持未完成状态。


提示：

* n == milestones.length
* 1 <= n <= 10<sup>5</sup>
* 1 <= milestones[i] <= 10<sup>9</sup>

## 思路

1.  如果sum-max+1 >= max(为什么要+1呢？因为需要最多能工作几周完成任务，需要从最大值开始完成任务,所以默认最大值要先减1，则sum - (max - 1) >= max ,则得上述式子)表示所有的任务可以完成，返回总和sum即可。
2.  如果sum - max + 1 < max,则表示最大值max还有任务没法完成，而max还剩多少任务呢，或者说完成了max中的多少任务呢，答案是：(sum - max) + 1,比前面的所有除了max总和的所有任务加起来还多一次，所以(sum-max) + (sum-max)+1就是能够最多工作的周数



## 解法
```java
class Solution {
    public long numberOfWeeks(int[] milestones) {
        //找出数组中的最大值
        int max = 0;
        long sum = 0L;  //计算数组中的所有任务之和
        for(int num : milestones){
            if(num > max){
                max = num;
            }
            sum += num;
        }
        return (sum - max + 1) >= max? sum : 2*(sum-max)+1;
    }
}

```

## 总结

- 分析出几种情况，然后分别对各个情况实现 
